
	capture erase lmerlin.mlib
	mata: mata set matastrict off
	qui {
			do "./merlin/merlin_setup.mata"
			do "./merlin/merlin_error_checks.mata"
			do "./merlin/merlin_setup_check_clp.mata"
			do "./merlin/merlin_setup_levels.mata"
			do "./merlin/merlin_setup_build_touses.mata"
			do "./merlin/merlin_setup_get_levelvars.mata"
			do "./merlin/merlin_setup_elements.mata"
			do "./merlin/merlin_setup_build_clp.mata"
			do "./merlin/merlin_setup_ni.mata"
			do "./merlin/merlin_setup_survival.mata"
			do "./merlin/merlin_setup_survival_exprate.mata"
			do "./merlin/merlin_setup_familys.mata"
			do "./merlin/merlin_setup_latents.mata"
			do "./merlin/merlin_setup_impute.mata"
			do "./merlin/merlin_setup_devcodes.mata"
                        do "./merlin/merlin_setup_marg_ltruncated.mata"
			do "./merlin/merlin_starting_values.mata"
			do "./merlin/merlin_xb.mata"
			do "./merlin/merlin_penalise.mata"
			
			//distributions
			do "./merlin/merlin_gaussian.mata"
			do "./merlin/merlin_poisson.mata"
			do "./merlin/merlin_exp.mata"
			do "./merlin/merlin_pwexp.mata"
			do "./merlin/merlin_weibull.mata"
			do "./merlin/merlin_gompertz.mata"
			do "./merlin/merlin_ggamma.mata"
			do "./merlin/merlin_lognormal.mata"
			do "./merlin/merlin_loglogistic.mata"
			do "./merlin/merlin_userhch.mata"
			do "./merlin/merlin_lquantile.mata"
			do "./merlin/merlin_loghazard.mata"
			do "./merlin/merlin_addhazard.mata"
			do "./merlin/merlin_logchazard.mata"
			do "./merlin/merlin_rp.mata"
			do "./merlin/merlin_aft.mata"
			do "./merlin/merlin_cox.mata"
			do "./merlin/merlin_stamp.mata"
			do "./merlin/merlin_prp.mata"
			do "./merlin/merlin_gamma.mata"
			do "./merlin/merlin_bernoulli.mata"
			do "./merlin/merlin_beta.mata"
			do "./merlin/merlin_negbinomial.mata"
			do "./merlin/merlin_ordinal.mata"
			do "./merlin/merlin_gp.mata"
			do "./merlin/metamerlin_ad.mata"
			do "./merlin/merlin_impute.mata"
                        do "./merlin/merlin_stexcess.mata"
			
			do "./merlin/merlin_gf.mata"
			do "./merlin/merlin_gf_survival.mata"
			do "./merlin/merlin_ltruncated.mata"	
			do "./merlin/merlin_prolog.mata"		
			do "./merlin/merlin_utils.mata"	
			do "./merlin/merlin_utils_simple.mata"	
			do "./merlin/merlin_functions.mata"	
			
			//scores
// 			do "./merlin/merlin_setup_score.mata"
			do "./merlin/merlin_score.mata"
			do "./merlin/merlin_score_weibull.mata"
// 			do "./merlin/merlin_score_loghazard.mata"
// 			do "./merlin/merlin_score_logchazard.mata"
// 			do "./merlin/merlin_score_rp.mata"
// 			do "./merlin/merlin_score_poisson.mata"
// 			do "./merlin/merlin_score_gaussian.mata"
// // 			do "./merlin/merlin_score_cox.mata"
// 			do "./merlin/merlin_score_bernoulli.mata"
			
			//hessian
// 			do "./merlin/merlin_setup_hessian.mata"
// 			do "./merlin/merlin_hessian_ob.mata"
// 			do "./merlin/merlin_hessian_weibull.mata"
// 			do "./merlin/merlin_hessian_loghazard.mata"
// 			do "./merlin/merlin_hessian_logchazard.mata"
// 			do "./merlin/merlin_hessian_rp.mata"
// 			do "./merlin/merlin_hessian_poisson.mata"
// 			do "./merlin/merlin_hessian_gaussian.mata"
// // 			do "./merlin/merlin_hessian_cox.mata"
// 			do "./merlin/merlin_hessian_bernoulli.mata"
			
			//predictions
			do "./merlin/merlin_ereturn.mata"	
			do "./merlin/merlin_predict.mata"	

				do "./merlin/merlin_p_weibull.mata"	
				do "./merlin/merlin_p_exp.mata"	
				do "./merlin/merlin_p_pwexp.mata"	
				do "./merlin/merlin_p_cox.mata"	
				do "./merlin/merlin_p_gompertz.mata"	
				do "./merlin/merlin_p_ggamma.mata"	
				do "./merlin/merlin_p_lognormal.mata"	
				do "./merlin/merlin_p_loglogistic.mata"	
				do "./merlin/merlin_p_loghazard.mata"	
				do "./merlin/merlin_p_addhazard.mata"	
				do "./merlin/merlin_p_logchazard.mata"	
				do "./merlin/merlin_p_aft.mata"	
				do "./merlin/merlin_p_rp.mata"	
				do "./merlin/merlin_p_bernoulli.mata"	
				do "./merlin/merlin_p_beta.mata"	
				do "./merlin/merlin_p_gamma.mata"	
				do "./merlin/merlin_p_gaussian.mata"	
				do "./merlin/merlin_p_negbinomial.mata"
				do "./merlin/merlin_p_poisson.mata"
				do "./merlin/merlin_p_userhch.mata"
				do "./merlin/merlin_p_gp.mata"
				do "./merlin/merlin_p_transprob.mata"
				
			mata: mata mlib create lmerlin, dir(.)
			mata: mata mlib add    lmerlin *(), dir(.)
			mata: mata d *()  
			mata mata clear
			mata mata mlib index

	}
